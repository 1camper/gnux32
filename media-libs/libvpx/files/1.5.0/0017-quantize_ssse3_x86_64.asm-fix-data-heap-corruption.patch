From c3726519914b188471b5cbe67809db2cb81eebd7 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Matthias=20R=C3=A4ncker?= <theonetruecamper@gmx.de>
Date: Tue, 11 Sep 2018 16:00:03 +0200
Subject: [PATCH 17/17] quantize_ssse3_x86_64.asm: fix data/heap corruption
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Signed-off-by: Matthias RÃ¤ncker <theonetruecamper@gmx.de>
Change-Id: I7213ee0b39373d1cb9b81266321c81e65564aab1
---
 vpx_dsp/x86/quantize_ssse3_x86_64.asm | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/vpx_dsp/x86/quantize_ssse3_x86_64.asm b/vpx_dsp/x86/quantize_ssse3_x86_64.asm
index 554841631..659f85638 100644
--- a/vpx_dsp/x86/quantize_ssse3_x86_64.asm
+++ b/vpx_dsp/x86/quantize_ssse3_x86_64.asm
@@ -300,7 +300,7 @@ cglobal quantize_%1, 0, %2, 15, coeff, ncoeff, skip, zbin, round, quant, \
   pshuflw                         m7, m8, 0x1
   pmaxsw                          m8, m7
   pextrw                          r6, m8, 0
-  mov                             [r2], r6
+  mov                           [r2], r6w
   RET
 
   ; skip-block, i.e. just write all zeroes
-- 
2.16.4

